<!DOCTYPE html>
<html>
  <head>
    <title>
      Rock Paper Scissor
    </title>
    <style>
      
    </style>


  </head>
  <body>

    <script>
      //Initializing the game note afater playRound
      let gameSession = 0;
      let computerScore = 0;
      let playerScore = 0;

      // get computer choice randomly
      function getComputerChoice() {
        //rock or paper or scissor randomly
        const computerChoice = Math.ceil(Math.random() * 3);
        if (computerChoice === 1) {
          return 'rock';
        } else if (computerChoice === 2) {
          return 'paper';
        } else {
          return 'scissors';
        }
       
      }

      //Player Choice Input
      function getPlayerChoice() {
        const playerChoice = prompt('Type Rock or Paper or Scissors');
        return playerChoice;
      }
      

       //Play Round Function
      function playRound(playerSelection , computerSelection) {
        
        gameSession++;
      
        if (playerSelection.toLowerCase() === 'rock') {
          if (computerSelection === 'rock') {
            return 'Ties! You chose Rock, Computer chose Rock';
          } else if (computerSelection === 'paper') {
            computerScore++;
            return 'You Lose! You chose Rock, Computer chose Paper.';
          } else if (computerSelection === 'scissors') {
            playerScore++;
            return 'You win! You chose Rock, Computer chose Scissors.';
          }

        } else if (playerSelection.toLowerCase() === 'paper') {
            if (computerSelection === 'rock') {
              playerScore++;
              return 'You win! You chose Paper, Computer chose Rock';
            } else if (computerSelection === 'paper') {
              return 'Ties! You chose Paper, Computer chose Paper.';
            } else if (computerSelection === 'scissors') {
              computerScore++;
              return 'You lose! You chose Paper, Computer chose Scissors.';
            }

        } else if (playerSelection.toLowerCase === 'scissors') {
            if (computerSelection === 'rock') {
              computerScore++;
              return 'You lose! You chose Scissors, Computer chose Rock';
            } else if (computerSelection === 'paper') {
              playerScore++;
              return 'You win! You chose Scissors, Computer chose Paper.';
            } else if (computerSelection === 'scissors') {
              return 'Ties! You chose Scissors, Computer chose Scissors.';
            }

        } else {
            computerScore++;
            return `You lose! computer choose ${computerSelection}`;
        }
        

      }

  

      //Play The Game
      
      function game() {
        
        for (let gamePlay = 0; gamePlay < 5; gamePlay++) {
          
          const playerSelection = getPlayerChoice();
          if (playerSelection === null) {
            return playAgain();
          }
        
          const computerSelection = getComputerChoice();
          console.log(playRound(playerSelection, computerSelection))

          //note after each play
          console.log(`
              Game Session: ${gameSession}
              Player Score: ${playerScore}
              Computer Score: ${computerScore}`);
          
          //note after game finished.
          if (gameSession === 5) {
            if (playerScore > computerScore) {
              console.log(`
              End of the game.
              You win in this session.

              Last score:

              Game Session: ${gameSession}
              Player Score: ${playerScore}
              Computer Score: ${computerScore}`);
            } else if(playerScore < computerScore) {
              console.log(`
              End of the game.
              You lose in this session.

              Last Score:
              Game Session: ${gameSession}
              Player Score: ${playerScore}
              Computer Score: ${computerScore}`);
            } else {
              console.log(`
              End of the game.
              Ties.

              LastScore:

              Game Session: ${gameSession}
              Player Score: ${playerScore}
              Computer Score: ${computerScore}`);
            }
          }

        }
          
      }
        

      //Play Again
      function playAgain() {
        const playAgain = prompt('Do you want to play again ?');
        if (playAgain === null) {
          return console.log('canceled, the game is cancled');
        }
        game();

      }

      
     
      game();
      
      /*
      console.log(`Game Session: ${gameSession}`);
      console.log(`Player Score: ${playerScore}`);
      console.log(`Computer Score: ${computerScore}`);
      */
      

      
      
        
      

    </script>
  </body>

</html>
